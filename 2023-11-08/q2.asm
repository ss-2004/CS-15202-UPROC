
LDA 2000
MOV B, A
MVI C, 0
MVI D, 0
LXI H, 2001

ILOOP:	MOV A, C
	CMP B
	JZ END
	MOV A, C
	STA 2012
	MOV A, C
	INR A
	MOV D, A

JLOOP:	MOV A, D
	CMP B
	JZ NXTPSS
	LDA 2012
	LXI H, 2001
	ADD L
	MOV L, A
	MOV E, M
	MOV A, D
	LXI H, 2001
	ADD L
	MOV L, A
	MOV A, M
	CMP E
	JC CHGIDX

BACK:	LXI H, 2001
	INR D

BACK2: 	JMP JLOOP

SWP:	LXI H, 2001
	MOV A, C
	ADD L
	MOV L, A
	MOV A, M
	MOV M, E
	MOV E, A
	LXI H, 2001
	LDA 2012
	ADD L
	MOV L, A
	MOV M, E
	JMP PSSBCK

CHGIDX: MOV A, D
	STA 2012
	JMP BACK

NXTPSS: LDA 2012
	LXI H, 2001
	ADD L
	MOV L, A
	MOV E, M
	JMP SWP

PSSBCK: INR C
	JMP ILOOP

END:	MVI A, 0
	STA 2012
	HLT
	
